<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>STLink.Driver</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/STLink.Driver.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hstlink-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) UBC Orbit</td></tr><tr><th>Maintainer</th><td>sam.schwiegel@ubcorbit.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">STLink.Driver</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Most users shouldn't have to import this module, since the important
bits are re-exported elsewhere.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:inCommand">inCommand</a> :: DeviceHandle -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; Size -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:outCommand">outCommand</a> :: DeviceHandle -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:withAutoBoard">withAutoBoard</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:withBoard">withBoard</a> :: Device -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:STLink">STLink</a> a = <a href="#v:STLink">STLink</a> (DeviceHandle -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:inCommand" class="def">inCommand</a> :: DeviceHandle -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; Size -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/STLink.Driver.html#inCommand" class="link">Source</a> <a href="#v:inCommand" class="selflink">#</a></p><div class="doc"><p>Low-level command that formats an &quot;inward&quot; command the way the
 STLink dongle likes it:</p><pre>USB_BULK out &lt;up to 16 bytes of commands&gt;
USB_BULK in &lt;expected response length&gt;
</pre><p>Since USB is a host-oriented protocol, we have to know in advance
 how many bytes to read from the device's buffer.</p></div></div><div class="top"><p class="src"><a id="v:outCommand" class="def">outCommand</a> :: DeviceHandle -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> () <a href="src/STLink.Driver.html#outCommand" class="link">Source</a> <a href="#v:outCommand" class="selflink">#</a></p><div class="doc"><p>Low-level command that formats an &quot;outward&quot; command the way the
 STLink dongle likes it:</p><pre>USB_BULK out &lt;up to 16 bytes of commands&gt;
USB_BULK out &lt;outward-bound data&gt;
</pre></div></div><div class="top"><p class="src"><a id="v:withAutoBoard" class="def">withAutoBoard</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/STLink.Driver.html#withAutoBoard" class="link">Source</a> <a href="#v:withAutoBoard" class="selflink">#</a></p><div class="doc"><p>Automatically finds a board (and prompts the user to select one
 if several are attached) and then runs the <code><a href="STLink-Driver.html#t:STLink">STLink</a></code> action with
 that board.</p></div></div><div class="top"><p class="src"><a id="v:withBoard" class="def">withBoard</a> :: Device -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> (<a href="../base-4.10.1.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/STLink.Driver.html#withBoard" class="link">Source</a> <a href="#v:withBoard" class="selflink">#</a></p><div class="doc"><p>Lets the user manually specify a USB <code>Device</code> to execute the
 <code><a href="STLink-Driver.html#t:STLink">STLink</a></code> action on.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:STLink" class="def">STLink</a> a <a href="src/STLink.Driver.html#STLink" class="link">Source</a> <a href="#t:STLink" class="selflink">#</a></p><div class="doc"><p>This monad lets you write effectful computations that communicate
 with an STLink dongle, without explicitly specifying the dongle you
 want to talk with for every command.  Generally, 'runSTLink
 wouldn't be used directly since it takes a low-level <code>DeviceHandle</code>
 instead of a general <code>Device</code>.  See <code><a href="STLink-Driver.html#v:withBoard">withBoard</a></code> for a safe,
 high-level way to run an <code><a href="STLink-Driver.html#t:STLink">STLink</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:STLink" class="def">STLink</a> (DeviceHandle -&gt; <a href="../transformers-0.5.2.0/Control-Monad-Trans-Except.html#t:ExceptT">ExceptT</a> <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:STLink" class="caption collapser" onclick="toggleSection('i:STLink')">Instances</p><div id="section.i:STLink" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:STLink:Monad:1" class="instance expander" onclick="toggleSection('i:id:STLink:Monad:1')"></span> <a href="../base-4.10.1.0/Control-Monad.html#t:Monad">Monad</a> <a href="STLink-Driver.html#t:STLink">STLink</a></span> <a href="src/STLink.Driver.html#line-91" class="link">Source</a> <a href="#t:STLink" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:STLink:Monad:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; (a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b) -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:return" class="selflink">#</a></p><p class="src"><a href="#v:fail">fail</a> :: <a href="../base-4.10.1.0/Data-String.html#t:String">String</a> -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:fail" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:STLink:Functor:2" class="instance expander" onclick="toggleSection('i:id:STLink:Functor:2')"></span> <a href="../base-4.10.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="STLink-Driver.html#t:STLink">STLink</a></span> <a href="src/STLink.Driver.html#line-84" class="link">Source</a> <a href="#t:STLink" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:STLink:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:STLink:Applicative:3" class="instance expander" onclick="toggleSection('i:id:STLink:Applicative:3')"></span> <a href="../base-4.10.1.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="STLink-Driver.html#t:STLink">STLink</a></span> <a href="src/STLink.Driver.html#line-87" class="link">Source</a> <a href="#t:STLink" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:STLink:Applicative:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> (a -&gt; b) -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="STLink-Driver.html#t:STLink">STLink</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> b -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:-60--42-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:STLink:MonadIO:4" class="instance expander" onclick="toggleSection('i:id:STLink:MonadIO:4')"></span> <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> <a href="STLink-Driver.html#t:STLink">STLink</a></span> <a href="src/STLink.Driver.html#line-94" class="link">Source</a> <a href="#t:STLink" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:STLink:MonadIO:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="STLink-Driver.html#t:STLink">STLink</a> a <a href="#v:liftIO" class="selflink">#</a></p></div></div></td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>